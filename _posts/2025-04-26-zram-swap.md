---
layout: post
title: ZRAM and how I deal with the memory usage in my Linux system
date: 2025-04-26 15:27:00+0700
description: ZRAM and how I deal with the memory usage in my Linux system.
tags: linux
categories: utilities
citation: true
giscus_comments: true
toc:
  beginning: true
---

## Introduction

I started using Linux in 2018 with a laptop with 4GB of RAM and 2 cores CPU.

That day, I was happy with the performance of my system, but as time went by, I started to feel that my system was getting slower and slower because of the memory usage. Sometimes, my system would freeze for a few seconds, and I had to wait for it to respond again.

So I think that I need to enable the swap to improve the performance of my system. But I don't know about the ZRAM and just enabled the disk swap.

Because of the SSD, it was fast, but I still felt that my system was not as fast as before, especially when I opened multiple applications at the same time.

For a long time, I thought that the swap was the only solution to improve the performance of my system. But after a while, I found the ZRAM. Then I started to learn about it and how to use it.

## What is ZRAM?

ZRAM is a Linux kernel module that allows you to use as a swap space in RAM.

Until here, you may think that we need swap to expand the memory usage. But ZRAM is swap in RAM and the RAM capacity is limited. So why do we need ZRAM and how does it work?

## How does ZRAM work?

Instead of using the disk swap, the swap data is compressed and stored in RAM.

It allows storing more data in RAM. So instead of having 4GB of RAM, you can have 6GB of RAM with ZRAM.

In turn, it will improve the system performance because the data is stored in RAM, which is much faster than the disk swap.

But it takes CPU resources to compress and decompress the data.
So if you have a low-end CPU, it may not be a good idea to use ZRAM.
But with a modern CPU, it should not be a problem and you will feel as if your system has more RAM.

We have many compression algorithms to choose from, such as LZO, LZ4, ZSTD, and others.
But with me, ZSTD is the best choice because it has a good balance between speed and compression ratio. It has been chosen by openSUSE Tumbleweed as the default.

If you want to read more about ZRAM algorithms, check [here](https://www.kernel.org/doc/html/latest/admin-guide/mm/zram.html#compression-algorithms).

## Enabling ZRAM

---

REF:

- https://www.kernel.org/doc/html/latest/admin-guide/blockdev/zram.html
